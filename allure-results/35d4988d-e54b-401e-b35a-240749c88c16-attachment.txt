2025-09-22 19:00:42 INFO 
======================================== REQUEST ========================================
2025-09-22 19:00:42 INFO [32mpytest tests/api/test_transactions.py::test_delete_movie_by_id (setup)[0m
curl -X POST 'https://auth.dev-cinescope.coconutqa.ru/login' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H 'Content-Length: 53' \
-d '{"email": "api1@gmail.com", "password": "asdqwe123Q"}' 

2025-09-22 19:00:42 INFO 
======================================== RESPONSE ========================================
2025-09-22 19:00:42 INFO 	STATUS_CODE: [32m200[0m
	DATA:
{
    "user": {
        "id": "4cc5bb1c-6bf7-4928-8f2f-8cf8ff41e200",
        "email": "api1@gmail.com",
        "fullName": "–§–ò–û –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
        "createdAt": "2025-03-08T08:06:03.541Z",
        "verified": true,
        "banned": false,
        "roles": [
            "USER",
            "ADMIN",
            "SUPER_ADMIN"
        ]
    },
    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRjYzViYjFjLTZiZjctNDkyOC04ZjJmLThjZjhmZjQxZTIwMCIsImVtYWlsIjoiYXBpMUBnbWFpbC5jb20iLCJyb2xlcyI6WyJVU0VSIiwiQURNSU4iLCJTVVBFUl9BRE1JTiJdLCJ2ZXJpZmllZCI6dHJ1ZSwiaWF0IjoxNzU4NTU2ODQxLCJleHAiOjE3NTg1NTg2NDF9.yfbgl52Ms91txR_C6m3N9WHH8NgP_1HBynYe3X8Txtc",
    "expiresIn": 1758558641915
}
2025-09-22 19:00:42 INFO ================================================================================

2025-09-22 19:00:42 INFO 
======================================== REQUEST ========================================
2025-09-22 19:00:42 INFO [32mpytest tests/api/test_transactions.py::test_delete_movie_by_id (setup)[0m
curl -X POST 'https://auth.dev-cinescope.coconutqa.ru/user' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRjYzViYjFjLTZiZjctNDkyOC04ZjJmLThjZjhmZjQxZTIwMCIsImVtYWlsIjoiYXBpMUBnbWFpbC5jb20iLCJyb2xlcyI6WyJVU0VSIiwiQURNSU4iLCJTVVBFUl9BRE1JTiJdLCJ2ZXJpZmllZCI6dHJ1ZSwiaWF0IjoxNzU4NTU2ODQxLCJleHAiOjE3NTg1NTg2NDF9.yfbgl52Ms91txR_C6m3N9WHH8NgP_1HBynYe3X8Txtc' \
-H 'Cookie: refresh_token=3062e620-e6d9-45c3-8d5e-d41d41b2630a' \
-H 'Content-Length: 147' \
-d '{"email": "kekzvididpe@gmail.com", "fullName": "Don Kemp", "password": "ngen$73Rm*3hk&$$alk", "verified": true, "banned": false, "roles": ["USER"]}' 

2025-09-22 19:00:42 INFO 
======================================== RESPONSE ========================================
2025-09-22 19:00:42 INFO 	STATUS_CODE: [32m201[0m
	DATA:
{
    "id": "283c25ea-4d22-48f0-9f7a-187cef34c1ac",
    "email": "kekzvididpe@gmail.com",
    "fullName": "Don Kemp",
    "verified": true,
    "banned": false,
    "roles": [
        "USER"
    ],
    "createdAt": "2025-09-22T16:00:42.314Z"
}
2025-09-22 19:00:42 INFO ================================================================================

2025-09-22 19:00:43 INFO 
======================================== REQUEST ========================================
2025-09-22 19:00:43 INFO [32mpytest tests/api/test_transactions.py::test_delete_movie_by_id (setup)[0m
curl -X POST 'https://auth.dev-cinescope.coconutqa.ru/login' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H 'Content-Length: 69' \
-d '{"email": "kekzvididpe@gmail.com", "password": "ngen$73Rm*3hk&$$alk"}' 

2025-09-22 19:00:43 INFO 
======================================== RESPONSE ========================================
2025-09-22 19:00:43 INFO 	STATUS_CODE: [32m200[0m
	DATA:
{
    "user": {
        "id": "283c25ea-4d22-48f0-9f7a-187cef34c1ac",
        "email": "kekzvididpe@gmail.com",
        "fullName": "Don Kemp",
        "createdAt": "2025-09-22T16:00:42.314Z",
        "verified": true,
        "banned": false,
        "roles": [
            "USER"
        ]
    },
    "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjI4M2MyNWVhLTRkMjItNDhmMC05ZjdhLTE4N2NlZjM0YzFhYyIsImVtYWlsIjoia2VrenZpZGlkcGVAZ21haWwuY29tIiwicm9sZXMiOlsiVVNFUiJdLCJ2ZXJpZmllZCI6dHJ1ZSwiaWF0IjoxNzU4NTU2ODQzLCJleHAiOjE3NTg1NTg2NDN9.GliKi4fbk1SMAIbR3020el4auK2jUEtt9cyg4kFtUmA",
    "expiresIn": 1758558643152
}
2025-09-22 19:00:43 INFO ================================================================================
2025-09-22 19:00:43 INFO BEGIN (implicit)
2025-09-22 19:00:43 INFO INSERT INTO movies (name, description, genre_id, image_url, price, rating, location, published, created_at) VALUES (%(name)s, %(description)s, %(genre_id)s, %(image_url)s, %(price)s, %(rating)s, %(location)s, %(published)s, %(created_at)s) RETURNING movies.id
2025-09-22 19:00:43 INFO [generated in 0.00042s] {'name': 'Through brother inside', 'description': 'Else popular indeed natural trial. Various identify discuss simple. Factor no difference phone.', 'genre_id': 2, 'image_url': None, 'price': Decimal('790'), 'rating': 4, 'location': 'MSK', 'published': True, 'created_at': datetime.datetime(2025, 9, 22, 16, 0, 43, 242595, tzinfo=datetime.timezone.utc)}
2025-09-22 19:00:43 DEBUG Col ('id',)
2025-09-22 19:00:43 DEBUG Row (14716,)
2025-09-22 19:00:43 INFO COMMIT
2025-09-22 19:00:43 INFO BEGIN (implicit)
2025-09-22 19:00:43 INFO SELECT movies.id, movies.name, movies.description, movies.genre_id, movies.image_url, movies.price, movies.rating, movies.location, movies.published, movies.created_at 
FROM movies 
WHERE movies.id = %(pk_1)s
2025-09-22 19:00:43 INFO [generated in 0.00040s] {'pk_1': 14716}
2025-09-22 19:00:44 DEBUG Col ('id', 'name', 'description', 'genre_id', 'image_url', 'price', 'rating', 'location', 'published', 'created_at')
2025-09-22 19:00:44 DEBUG Row (14716, 'Through brother inside', 'Else popular indeed natural trial. Various identify discuss simple. Factor no difference phone.', 2, None, 790.0, 4.0, 'MSK', True, datetime.datetime(2025, 9, 22, 16, 0, 43, 243000))
2025-09-22 19:00:44 INFO 
======================================== REQUEST ========================================
2025-09-22 19:00:44 INFO [32mpytest tests/api/test_transactions.py::test_delete_movie_by_id[0m
curl -X GET 'https://api.dev-cinescope.coconutqa.ru/movies/14716' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjI4M2MyNWVhLTRkMjItNDhmMC05ZjdhLTE4N2NlZjM0YzFhYyIsImVtYWlsIjoia2VrenZpZGlkcGVAZ21haWwuY29tIiwicm9sZXMiOlsiVVNFUiJdLCJ2ZXJpZmllZCI6dHJ1ZSwiaWF0IjoxNzU4NTU2ODQzLCJleHAiOjE3NTg1NTg2NDN9.GliKi4fbk1SMAIbR3020el4auK2jUEtt9cyg4kFtUmA' \

2025-09-22 19:00:44 INFO 
======================================== RESPONSE ========================================
2025-09-22 19:00:44 INFO 	STATUS_CODE: [32m200[0m
	DATA:
{
    "id": 14716,
    "name": "Through brother inside",
    "price": 790,
    "description": "Else popular indeed natural trial. Various identify discuss simple. Factor no difference phone.",
    "imageUrl": null,
    "location": "MSK",
    "published": true,
    "rating": 4,
    "genreId": 2,
    "createdAt": "2025-09-22T16:00:43.243Z",
    "reviews": [],
    "genre": {
        "name": "–ö–æ–º–µ–¥–∏—è"
    }
}
2025-09-22 19:00:44 INFO ================================================================================

2025-09-22 19:00:44 INFO SELECT movies.id AS movies_id, movies.name AS movies_name, movies.description AS movies_description, movies.genre_id AS movies_genre_id, movies.image_url AS movies_image_url, movies.price AS movies_price, movies.rating AS movies_rating, movies.location AS movies_location, movies.published AS movies_published, movies.created_at AS movies_created_at 
FROM movies 
WHERE movies.id = %(id_1)s 
 LIMIT %(param_1)s
2025-09-22 19:00:44 INFO [generated in 0.00040s] {'id_1': 14716, 'param_1': 1}
2025-09-22 19:00:44 DEBUG Col ('movies_id', 'movies_name', 'movies_description', 'movies_genre_id', 'movies_image_url', 'movies_price', 'movies_rating', 'movies_location', 'movies_published', 'movies_created_at')
2025-09-22 19:00:44 DEBUG Row (14716, 'Through brother inside', 'Else popular indeed natural trial. Various identify discuss simple. Factor no difference phone.', 2, None, 790.0, 4.0, 'MSK', True, datetime.datetime(2025, 9, 22, 16, 0, 43, 243000))
2025-09-22 19:00:45 INFO 
======================================== REQUEST ========================================
2025-09-22 19:00:45 INFO [32mpytest tests/api/test_transactions.py::test_delete_movie_by_id[0m
curl -X DELETE 'https://api.dev-cinescope.coconutqa.ru/movies/14716' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRjYzViYjFjLTZiZjctNDkyOC04ZjJmLThjZjhmZjQxZTIwMCIsImVtYWlsIjoiYXBpMUBnbWFpbC5jb20iLCJyb2xlcyI6WyJVU0VSIiwiQURNSU4iLCJTVVBFUl9BRE1JTiJdLCJ2ZXJpZmllZCI6dHJ1ZSwiaWF0IjoxNzU4NTU2ODQxLCJleHAiOjE3NTg1NTg2NDF9.yfbgl52Ms91txR_C6m3N9WHH8NgP_1HBynYe3X8Txtc' \
-H 'Content-Length: 0' \

2025-09-22 19:00:45 INFO 
======================================== RESPONSE ========================================
2025-09-22 19:00:45 INFO 	STATUS_CODE: [32m200[0m
	DATA:
{
    "id": 14716,
    "name": "Through brother inside",
    "price": 790,
    "description": "Else popular indeed natural trial. Various identify discuss simple. Factor no difference phone.",
    "imageUrl": null,
    "location": "MSK",
    "published": true,
    "rating": 4,
    "genreId": 2,
    "createdAt": "2025-09-22T16:00:43.243Z",
    "reviews": [],
    "genre": {
        "name": "–ö–æ–º–µ–¥–∏—è"
    }
}
2025-09-22 19:00:45 INFO ================================================================================

2025-09-22 19:00:45 INFO 
======================================== REQUEST ========================================
2025-09-22 19:00:45 INFO [32mpytest tests/api/test_transactions.py::test_delete_movie_by_id[0m
curl -X GET 'https://api.dev-cinescope.coconutqa.ru/movies/14716' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjI4M2MyNWVhLTRkMjItNDhmMC05ZjdhLTE4N2NlZjM0YzFhYyIsImVtYWlsIjoia2VrenZpZGlkcGVAZ21haWwuY29tIiwicm9sZXMiOlsiVVNFUiJdLCJ2ZXJpZmllZCI6dHJ1ZSwiaWF0IjoxNzU4NTU2ODQzLCJleHAiOjE3NTg1NTg2NDN9.GliKi4fbk1SMAIbR3020el4auK2jUEtt9cyg4kFtUmA' \

2025-09-22 19:00:45 INFO 
======================================== RESPONSE ========================================
2025-09-22 19:00:45 INFO 	STATUS_CODE: [31m404[0m
	DATA: [31m{
    "message": "–§–∏–ª—å–º –Ω–µ –Ω–∞–π–¥–µ–Ω",
    "error": "Not Found",
    "statusCode": 404
}[0m
2025-09-22 19:00:45 INFO ================================================================================

2025-09-22 19:00:45 INFO SELECT movies.id AS movies_id, movies.name AS movies_name, movies.description AS movies_description, movies.genre_id AS movies_genre_id, movies.image_url AS movies_image_url, movies.price AS movies_price, movies.rating AS movies_rating, movies.location AS movies_location, movies.published AS movies_published, movies.created_at AS movies_created_at 
FROM movies 
WHERE movies.id = %(id_1)s 
 LIMIT %(param_1)s
2025-09-22 19:00:45 INFO [cached since 0.8997s ago] {'id_1': 14716, 'param_1': 1}
2025-09-22 19:00:45 DEBUG Col ('movies_id', 'movies_name', 'movies_description', 'movies_genre_id', 'movies_image_url', 'movies_price', 'movies_rating', 'movies_location', 'movies_published', 'movies_created_at')
2025-09-22 19:00:45 INFO 
======================================== REQUEST ========================================
2025-09-22 19:00:45 INFO [32mpytest tests/api/test_transactions.py::test_delete_movie_by_id (teardown)[0m
curl -X DELETE 'https://auth.dev-cinescope.coconutqa.ru/user/283c25ea-4d22-48f0-9f7a-187cef34c1ac' \
-H 'Content-Type: application/json' \
-H 'Accept: application/json' \
-H 'Authorization: Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjRjYzViYjFjLTZiZjctNDkyOC04ZjJmLThjZjhmZjQxZTIwMCIsImVtYWlsIjoiYXBpMUBnbWFpbC5jb20iLCJyb2xlcyI6WyJVU0VSIiwiQURNSU4iLCJTVVBFUl9BRE1JTiJdLCJ2ZXJpZmllZCI6dHJ1ZSwiaWF0IjoxNzU4NTU2ODQxLCJleHAiOjE3NTg1NTg2NDF9.yfbgl52Ms91txR_C6m3N9WHH8NgP_1HBynYe3X8Txtc' \
-H 'Cookie: refresh_token=3062e620-e6d9-45c3-8d5e-d41d41b2630a' \
-H 'Content-Length: 0' \

2025-09-22 19:00:45 INFO 
======================================== RESPONSE ========================================
2025-09-22 19:00:45 INFO 	STATUS_CODE: [32m200[0m
	DATA:
{
    "id": "283c25ea-4d22-48f0-9f7a-187cef34c1ac",
    "email": "kekzvididpe@gmail.com",
    "fullName": "Don Kemp",
    "verified": true,
    "banned": false,
    "roles": [
        "USER"
    ],
    "createdAt": "2025-09-22T16:00:42.314Z"
}
2025-09-22 19:00:45 INFO ================================================================================

2025-09-22 19:00:45 INFO ROLLBACK